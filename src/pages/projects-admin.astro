---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout title="Admin Projects â€” bvislaoch" description="Manage portfolio projects.">
  <section class="mx-auto max-w-6xl px-4 py-12">
    <div class="flex items-start justify-between gap-6">
      <div>
        <h1 class="text-3xl font-semibold tracking-tight">Admin Projects</h1>
        <p class="mt-2 text-sm opacity-80">Manage your portfolio projects via Supabase.</p>
      </div>

      <button id="btnLogin"
        class="btn-primary">
        Login with Google
      </button>
    </div>

    <div id="state" class="mt-6 text-sm opacity-80"></div>

    <div class="mt-10 grid gap-6 lg:grid-cols-[.95fr_1.05fr]">
      <aside class="card">
        <div class="flex items-center justify-between">
          <h2 class="font-semibold">Projects</h2>
          <button id="btnNew" class="text-sm underline opacity-80 hover:opacity-100">New</button>
        </div>
        <div id="list" class="mt-4 space-y-2"></div>
      </aside>

      <main class="card">
        <h2 class="font-semibold">Project Editor</h2>

        <div class="mt-4 grid gap-3">
          <input id="name" class="w-full rounded-xl border px-4 py-2 text-sm glass"
            placeholder="Project name"
            style="border-color: rgb(var(--border));" />

          <input id="badge" class="w-full rounded-xl border px-4 py-2 text-sm glass"
            placeholder="Badge (e.g., Featured, Security)"
            style="border-color: rgb(var(--border));" />

          <input id="tagline" class="w-full rounded-xl border px-4 py-2 text-sm glass"
            placeholder="Short tagline"
            style="border-color: rgb(var(--border));" />

          <textarea id="description" rows="3" class="w-full rounded-xl border px-4 py-3 text-sm glass"
            placeholder="Project description..."
            style="border-color: rgb(var(--border));"></textarea>

          <input id="highlights" class="w-full rounded-xl border px-4 py-2 text-sm glass"
            placeholder="Highlights (comma-separated)"
            style="border-color: rgb(var(--border));" />

          <input id="stack" class="w-full rounded-xl border px-4 py-2 text-sm glass"
            placeholder="Tech stack (comma-separated)"
            style="border-color: rgb(var(--border));" />

          <input id="repo" class="w-full rounded-xl border px-4 py-2 text-sm glass"
            placeholder="Repository URL"
            style="border-color: rgb(var(--border));" />

          <input id="demo" class="w-full rounded-xl border px-4 py-2 text-sm glass"
            placeholder="Demo URL (optional)"
            style="border-color: rgb(var(--border));" />

          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-sm opacity-80 mb-1">Status</label>
              <select id="status" class="w-full rounded-xl border px-4 py-2 text-sm glass"
                style="border-color: rgb(var(--border));">
                <option value="active">Active</option>
                <option value="draft">Draft</option>
                <option value="archived">Archived</option>
              </select>
            </div>

            <div>
              <label class="block text-sm opacity-80 mb-1">Sort Order</label>
              <input id="sort_order" type="number" class="w-full rounded-xl border px-4 py-2 text-sm glass"
                placeholder="0"
                style="border-color: rgb(var(--border));" />
            </div>
          </div>

          <div class="flex items-center gap-3">
            <label class="inline-flex items-center gap-2 text-sm opacity-80">
              <input id="featured" type="checkbox" />
              Featured
            </label>
          </div>

          <div class="flex flex-wrap items-center justify-between gap-3">
            <div class="flex gap-2">
              <button id="btnSave" class="btn-primary">
                Save
              </button>
              <button id="btnDelete" class="btn-secondary opacity-80">
                Delete
              </button>
              <button id="btnLogout" class="btn-secondary opacity-80">
                Logout
              </button>
            </div>
          </div>

          <p class="text-xs opacity-60">
            Tips: Use clear, concise names. Featured projects appear first. Sort order controls display sequence.
          </p>
        </div>
      </main>
    </div>
  </section>

  <script type="module" src={new URL('../scripts/projects-admin.ts', import.meta.url).href}></script>
</BaseLayout>